<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ENGLISH BOX ‚Äî –≥–æ—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –≤–∏–¥–µ–æ –¥–ª—è —É—Ä–æ–∫–æ–≤</title>
  <meta name="description" content="ENGLISH BOX ‚Äî –∞–≤—Ç–æ—Ä—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫—É—Ä—Å—ã –∏ –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –£—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ—Ç–∏ –æ–±–æ–∂–∞—é—Ç, –∞ –ø–µ–¥–∞–≥–æ–≥–∏ —ç–∫–æ–Ω–æ–º—è—Ç –≤—Ä–µ–º—è!" />

  <!-- SEO / Social -->
  <link rel="canonical" href="https://example.com/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ENGLISH BOX ‚Äî –≥–æ—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –≤–∏–¥–µ–æ –¥–ª—è —É—Ä–æ–∫–æ–≤" />
  <meta property="og:description" content="–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫—É—Ä—Å—ã –∏ –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –£—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ—Ç–∏ –æ–±–æ–∂–∞—é—Ç, –∞ –ø–µ–¥–∞–≥–æ–≥–∏ —ç–∫–æ–Ω–æ–º—è—Ç –≤—Ä–µ–º—è!" />
  <meta property="og:image" content="https://example.com/og-image.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet" />

  <!-- QR Library -->
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js" defer></script>

  <style>
    :root{
      --bg:#0f0b11;
      --card:#1a1120;
      --soft:#25172b;
      --pri:#c084fc;       /* —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */
      --pri-strong:#fb923c;/* –æ—Ä–∞–Ω–∂–µ–≤—ã–π */
      --txt:#f3f4f6;
      --muted:#c1b5c7;
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.35), 0 2px 10px rgba(0,0,0,.25);
      --focus:#fde68a;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:linear-gradient(180deg,var(--bg),#150e17);color:var(--txt);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;}
    :focus-visible{outline:3px solid var(--focus);outline-offset:2px;border-radius:8px}
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{position:fixed;left:16px;top:16px;width:auto;height:auto;padding:10px 14px;background:#111827;color:#fff;border-radius:10px;z-index:1001}

    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;background:rgba(25,15,30,.7);backdrop-filter:blur(10px);border-bottom:1px solid #2a1e33;z-index:50}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,var(--pri),var(--pri-strong));display:grid;place-items:center;box-shadow:var(--shadow)}
    .brand h1{font-size:18px;letter-spacing:.6px;margin:0;font-weight:800}
    nav a{padding:10px 14px;border-radius:12px;color:var(--muted)}
    nav a:hover{background:rgba(192,132,252,.12);color:#fde68a}
    .cta{background:linear-gradient(135deg,var(--pri),var(--pri-strong));color:#1a0e14;padding:10px 16px;border-radius:12px;font-weight:700;box-shadow:var(--shadow)}

    main .hero{display:grid;grid-template-columns:1.15fr .85fr;gap:28px;align-items:center;padding:40px 0}
    .hero .card{background:linear-gradient(180deg,var(--card),var(--soft));border:1px solid #2a1e33;border-radius:24px;padding:28px;box-shadow:var(--shadow)}
    .hero h2{font-size:40px;line-height:1.05;margin:0 0 10px;font-weight:800}
    .hero p{color:var(--muted);margin:0 0 16px}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(192,132,252,.15);border:1px dashed #a855f7;color:#fde68a;font-size:12px;font-weight:600}

    .section{scroll-margin-top:80px}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
    .card{background:linear-gradient(180deg,var(--card),var(--soft));border:1px solid #2a1e33;border-radius:20px;box-shadow:var(--shadow)}
    .thumb{aspect-ratio:16/10;background:#0c0f18;border-bottom:1px solid #2a1e33;border-radius:20px 20px 0 0;overflow:hidden;display:grid;place-items:center}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .card-pad{padding:16px}
    .price{display:flex;align-items:center;justify-content:space-between;margin-top:10px}
    .price .num{font-weight:800;font-size:20px}
    .price .buy{padding:10px 12px;border-radius:12px;background:rgba(251,146,60,.15);border:1px solid #f59e0b;color:#ffedd5;font-weight:700;cursor:pointer}
    .price .buy:hover{background:rgba(251,146,60,.25)}

    .video-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-top:20px}
    .video{overflow:hidden;border-radius:18px;border:1px solid #2a1e33;background:#0c0f18}
    .video video{width:100%;height:auto;display:block}

    /* Modal base */
    .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.65);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:1000}
    .modal{width:min(92vw,520px);background:linear-gradient(180deg,var(--card),var(--soft));border:1px solid #2a1e33;border-radius:20px;box-shadow:var(--shadow);padding:18px}
    .modal header{position:unset;background:transparent;border:none;padding:0;margin:0 0 8px}
    .modal h4{margin:0;font-size:20px}

    /* Payment modal */
    .modal .qrbox{display:grid;place-items:center;padding:16px;border:1px dashed #a855f7;border-radius:16px;background:rgba(192,132,252,.06)}
    .modal .row{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:12px}
    .modal .link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#fde68a}
    .close-btn{all:unset;cursor:pointer;padding:8px 10px;border-radius:10px;background:rgba(192,132,252,.15);border:1px solid #a855f7}
    .primary-btn{all:unset;cursor:pointer;padding:10px 14px;border-radius:12px;background:linear-gradient(135deg,var(--pri),var(--pri-strong));color:#1a0e14;font-weight:800}

    /* Thanks modal */
    .thanks-title{font-size:22px;margin:0 0 6px}
    .thanks-text{color:var(--muted);margin:0 0 10px}

    footer{padding:26px 0;color:var(--muted);border-top:1px solid #2a1e33;margin-top:40px}

    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .video-grid{grid-template-columns:1fr 1fr}
      .hero{grid-template-columns:1fr}
    }
    @media (max-width: 640px){
      .video-grid{grid-template-columns:1fr}
    }

    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto}
      .nav a:hover{background:rgba(192,132,252,.18)}
    }
  </style>

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "ENGLISH BOX",
    "url": "https://example.com/",
    "logo": "https://example.com/logo.png",
    "sameAs": ["https://t.me/englishbox", "https://instagram.com/englishbox", "https://vk.com/englishbox"]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "itemListElement": [
      {
        "@type": "Product",
        "name": "English Box ‚Äî –∫—É—Ä—Å –¥–ª—è –¥–µ—Ç–µ–π 6‚Äì10 –ª–µ—Ç",
        "image": "https://example.com/images/product-englishbox.jpg",
        "offers": {"@type": "Offer","priceCurrency": "RUB","price": "2000","availability": "https://schema.org/InStock"}
      },
      {
        "@type": "Product",
        "name": "Kid‚Äôs Box 1 ‚Äî –ø–µ—Ä–≤–∞—è —Å—Ç—É–ø–µ–Ω—å",
        "image": "https://example.com/images/product-kidsbox1.jpg",
        "offers": {"@type": "Offer","priceCurrency": "RUB","price": "2000","availability": "https://schema.org/InStock"}
      }
    ]
  }
  </script>
</head>
<body>
  <a class="skip-link" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>

  <header role="banner">
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <h1>ENGLISH BOX<sup aria-label="–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–Ω–∞–∫">¬Æ</sup></h1>
      </div>
      <nav aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
        <a href="#products">–¢–æ–≤–∞—Ä—ã</a>
        <a href="#videos">–í–∏–¥–µ–æ</a>
        <a href="#about">–û –±—Ä–µ–Ω–¥–µ</a>
        <a href="https://vk.com/englishbox" class="cta" target="_blank" rel="noopener noreferrer" id="contactBtn">–°–≤—è–∑–∞—Ç—å—Å—è</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <section class="container hero" aria-labelledby="hero-title">
      <div class="card">
        <div class="badge" aria-label="–º–µ—Ç–∫–∏: –¥–ª—è –ø–µ–¥–∞–≥–æ–≥–æ–≤, –¥–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –¥–ª—è –ª—ë–≥–∫–∏—Ö —É—Ä–æ–∫–æ–≤">–î–ª—è –ø–µ–¥–∞–≥–æ–≥–æ–≤ ‚Ä¢ –î–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è ‚Ä¢ –î–ª—è –ª—ë–≥–∫–∏—Ö —É—Ä–æ–∫–æ–≤</div>
        <h2 id="hero-title">–°–¥–µ–ª–∞–π —Å–≤–æ–∏ —É—Ä–æ–∫–∏ –≤–æ–ª—à–µ–±–Ω—ã–º–∏ —Å ENGLISH BOX</h2>
        <p>–ì–æ—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—Ç –¥–µ—Ç–µ–π –∏ —ç–∫–æ–Ω–æ–º—è—Ç –≤—Ä–µ–º—è —É—á–∏—Ç–µ–ª—è. –î–æ–±–∞–≤—å –≤ —Å–≤–æ–∏ –∑–∞–Ω—è—Ç–∏—è —è—Ä–∫–æ—Å—Ç—å, –∏–≥—Ä—É –∏ —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å ‚Äî –≤—Å—ë —É–∂–µ —É–ø–∞–∫–æ–≤–∞–Ω–æ –≤ –∫–æ—Ä–æ–±–∫—É!</p>
        <p><strong>¬´–£—á–∏—Ç–µ–ª—é ‚Äî –∏–¥–µ–∏, –¥–µ—Ç—è–º ‚Äî –≤–æ—Å—Ç–æ—Ä–≥!¬ª</strong></p>
      </div>
    </section>

    <!-- –ú–∞–≥–∞–∑–∏–Ω -->
    <section id="products" class="container section" aria-labelledby="shop-title">
      <h3 id="shop-title">–ú–∞–≥–∞–∑–∏–Ω</h3>
      <p>–ì–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã –¥–ª—è —É—Ä–æ–∫–æ–≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ. –ü—Ä–∏–≤–Ω–æ—Å–∏ —ç–Ω–µ—Ä–≥–∏—é –∏ –∏–≥—Ä—É, –Ω–µ —Ç—Ä–∞—Ç—è —á–∞—Å—ã –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É.</p>

      <div class="grid" id="productGrid" role="list">
        <article class="card" role="listitem">
          <div class="thumb">
            <img loading="lazy" src="images/product-englishbox.jpg" width="800" height="500" alt="English Box ‚Äî –∫—É—Ä—Å –¥–ª—è –¥–µ—Ç–µ–π 6‚Äì10 –ª–µ—Ç" />
          </div>
          <div class="card-pad">
            <h4>English Box ‚Äî –∫—É—Ä—Å –¥–ª—è –¥–µ—Ç–µ–π 6‚Äì10 –ª–µ—Ç</h4>
            <p style="color:var(--muted);margin:0">–ò–≥—Ä–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è, –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –≤–∏–¥–µ–æ—É—Ä–æ–∫–∏. –ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –æ–±—É—á–µ–Ω–∏–µ –ª—ë–≥–∫–∏–º –∏ –≤–µ—Å—ë–ª—ã–º.</p>
            <div class="price">
              <div class="num" aria-label="–¶–µ–Ω–∞: 2000 —Ä—É–±–ª–µ–π">2 000 ‚ÇΩ</div>
              <button class="buy" type="button"
                      data-id="p1"
                      data-title="English Box"
                      data-price="2000"
                      data-paylink="https://payform.ru/kf7SPph/">
                –ö—É–ø–∏—Ç—å
              </button>
            </div>
          </div>
        </article>

        <article class="card" role="listitem">
          <div class="thumb">
            <img loading="lazy" src="images/product-kidsbox1.jpg" width="800" height="500" alt="Kid‚Äôs Box 1 ‚Äî –ø–µ—Ä–≤–∞—è —Å—Ç—É–ø–µ–Ω—å –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª—ã" />
          </div>
          <div class="card-pad">
            <h4>Kid‚Äôs Box 1 ‚Äî –ø–µ—Ä–≤–∞—è —Å—Ç—É–ø–µ–Ω—å –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª—ã</h4>
            <p style="color:var(--muted);margin:0">–ó–∞–¥–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è —Ä–µ—á–∏ –∏ —Å–ª–æ–≤–∞—Ä—è. –í–µ—Å—ë–ª—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º!</p>
            <div class="price">
              <div class="num" aria-label="–¶–µ–Ω–∞: 2000 —Ä—É–±–ª–µ–π">2 000 ‚ÇΩ</div>
              <button class="buy" type="button"
                      data-id="p2"
                      data-title="Kid‚Äôs Box 1"
                      data-price="2000"
                      data-paylink="https://payform.ru/kf7SPph/">
                –ö—É–ø–∏—Ç—å
              </button>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- –í–∏–¥–µ–æ -->
    <section id="videos" class="container section" aria-labelledby="video-title">
      <h3 id="video-title">–í–∏–¥–µ–æ —Å –∑–∞–Ω—è—Ç–∏–π</h3>
      <p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –ø—Ä–æ—Ö–æ–¥—è—Ç –∑–∞–Ω—è—Ç–∏—è —Å ENGLISH BOX ‚Äî –∂–∏–≤–æ, —Å —É–ª—ã–±–∫–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω—ã–º –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ–º –¥–µ—Ç–µ–π!</p>
      <div class="video-grid">
        <div class="video">
          <video controls preload="metadata" poster="images/lesson1.jpg" aria-label="–£—Ä–æ–∫ 1">
            <source src="videos/lesson1.mp4" type="video/mp4" />
          </video>
        </div>
        <div class="video">
          <video controls preload="metadata" poster="images/lesson2.jpg" aria-label="–£—Ä–æ–∫ 2">
            <source src="videos/lesson2.mp4" type="video/mp4" />
          </video>
        </div>
        <div class="video">
          <video controls preload="metadata" poster="images/lesson3.jpg" aria-label="–£—Ä–æ–∫ 3">
            <source src="videos/lesson3.mp4" type="video/mp4" />
          </video>
        </div>
      </div>
    </section>

    <!-- –î–ª—è –∫–æ–ª–ª–µ–≥ -->
    <section id="about" class="container section" aria-labelledby="about-title">
      <h3 id="about-title">–î–ª—è –∫–æ–ª–ª–µ–≥</h3>
      <p><strong>–ü–µ–¥–∞–≥–æ–≥–∏ –∑–∞—Å–ª—É–∂–∏–≤–∞—é—Ç –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –∞ –Ω–µ –≤—ã–≥–æ—Ä–∞–Ω–∏—è!</strong></p>
      <ul>
        <li>üì¶ –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≥–æ—Ç–æ–≤—ã ‚Äî –±–µ—Ä–∏ –∏ –ø—Ä–æ–≤–æ–¥–∏ —É—Ä–æ–∫ –±–µ–∑ —Å—É–µ—Ç—ã;</li>
        <li>‚ú® –≠–∫–æ–Ω–æ–º—å –≤—Ä–µ–º—è ‚Äî –∑–∞–±—É–¥—å –æ –Ω–æ—á–Ω—ã—Ö —Ä–∞—Å–ø–µ—á–∞—Ç–∫–∞—Ö –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ–∏—Å–∫–∞—Ö –∏–¥–µ–π;</li>
        <li>üéØ –°–¥–µ–ª–∞–π –∑–∞–Ω—è—Ç–∏—è –¥–∏–Ω–∞–º–∏—á–Ω—ã–º–∏, –≤–µ—Å—ë–ª—ã–º–∏ –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º–∏—Å—è;</li>
        <li>üí° ¬´ENGLISH BOX¬ª ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –¥—Ä–∞–π–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–∫–µ!</li>
      </ul>
      <p>–î–∞–≤–∞–π –¥–µ–ª–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ –ª—ë–≥–∫–∏–º, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏ –Ω–∞—Å—Ç–æ—è—â–∏–º –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º –¥–ª—è –¥–µ—Ç–µ–π.</p>
    </section>
  </main>

  <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
  <section id="contact" class="container section" aria-labelledby="contact-title">
    <h3 id="contact-title">–°–≤—è–∑–∞—Ç—å—Å—è</h3>
    <p>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ VK: <a href="https://vk.com/englishbox" target="_blank" rel="noopener noreferrer">vk.com/englishbox</a></p>
  </section>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã (QR) -->
  <div id="qrModal" class="modal-overlay" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="qrTitle" aria-describedby="qrDesc">
    <div class="modal">
      <header class="row" style="display:flex;align-items:center;justify-content:space-between">
        <h4 id="qrTitle">–û–ø–ª–∞—Ç–∞</h4>
        <button class="close-btn" id="qrClose" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã">–ó–∞–∫—Ä—ã—Ç—å</button>
      </header>
      <div class="qrbox" id="qrBox" aria-label="QR-–∫–æ–¥ –¥–ª—è –æ–ø–ª–∞—Ç—ã"></div>
      <div class="row">
        <span class="link" id="qrLinkText"></span>
        <a id="qrOpen" class="primary-btn" target="_blank" rel="noopener noreferrer">–û—Ç–∫—Ä—ã—Ç—å –æ–ø–ª–∞—Ç—É</a>
      </div>
      <p id="qrDesc" style="margin-top:10px;color:var(--muted);font-size:13px">–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–∞–º–µ—Ä–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–û—Ç–∫—Ä—ã—Ç—å –æ–ø–ª–∞—Ç—É¬ª.</p>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ -->
  <div id="thanksModal" class="modal-overlay" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="thanksTitle" aria-describedby="thanksText">
    <div class="modal" style="text-align:center">
      <header class="row" style="display:flex;align-items:center;justify-content:space-between">
        <h4 id="thanksTitle" class="thanks-title">–°–ø–∞—Å–∏–±–æ!</h4>
        <button class="close-btn" id="thanksClose" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ">–ó–∞–∫—Ä—ã—Ç—å</button>
      </header>
      <p id="thanksText" class="thanks-text">–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É.</p>
      <button class="primary-btn" id="thanksOk" type="button">–•–æ—Ä–æ—à–æ</button>
    </div>
  </div>

  <footer role="contentinfo">
    <div class="container">¬© <span id="year"></span> ENGLISH BOX<sup>¬Æ</sup>. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</div>
  </footer>

  <script>
    // –ì–æ–¥ –≤ —Ñ—É—Ç–µ—Ä–µ
    document.getElementById('year').textContent = new Date().getFullYear();

    // –ú–æ–¥–∞–ª–∫–∏ –∏ –ª–æ–≤—É—à–∫–∞ —Ñ–æ–∫—É—Å–∞
    const qrModal = document.getElementById('qrModal');
    const thanksModal = document.getElementById('thanksModal');
    let lastActive = null; // –∫—É–¥–∞ –≤–µ—Ä–Ω—É—Ç—å —Ñ–æ–∫—É—Å
    let activeTrap = null; // —Ç–µ–∫—É—â–∞—è –º–æ–¥–∞–ª–∫–∞ –¥–ª—è –ª–æ–≤—É—à–∫–∏ —Ñ–æ–∫—É—Å–∞

    function trapFocus(e){
      if(activeTrap && !activeTrap.contains(e.target)){
        e.stopPropagation();
        const focusable = activeTrap.querySelectorAll('a[href],button,[tabindex]:not([tabindex="-1"])');
        if(focusable.length){ focusable[0].focus(); }
      }
    }

    function openModal(modalEl, initialFocusEl){
      lastActive = document.activeElement;
      modalEl.style.display = 'flex';
      modalEl.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      activeTrap = modalEl;
      setTimeout(()=>{ (initialFocusEl || modalEl.querySelector('button, a'))?.focus(); }, 0);
      document.addEventListener('focus', trapFocus, true);
    }

    function closeModal(modalEl){
      modalEl.style.display = 'none';
      modalEl.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      document.removeEventListener('focus', trapFocus, true);
      activeTrap = null;
      if(lastActive) lastActive.focus();
    }

    // –û–ø–ª–∞—Ç–∞ (QR)
    const qrBox = document.getElementById('qrBox');
    const qrTitle = document.getElementById('qrTitle');
    const qrLinkText = document.getElementById('qrLinkText');
    const qrOpen = document.getElementById('qrOpen');
    const qrClose = document.getElementById('qrClose');
    let qrInstance = null;
    let paymentLinkOpened = false;

    function openQRModal(title, payLink){
      // –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Å—ã–ª–∫—É
      try { new URL(payLink); } catch(e){
        alert('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É.');
        return;
      }
      paymentLinkOpened = false;
      qrBox.innerHTML = '';
      // eslint-disable-next-line no-undef
      qrInstance = new QRCode(qrBox, { text: payLink, width: 220, height: 220, correctLevel: QRCode.CorrectLevel.M });
      qrTitle.textContent = `–û–ø–ª–∞—Ç–∞ ‚Äî ${title}`;
      qrLinkText.textContent = payLink;
      qrOpen.href = payLink; // –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
      openModal(qrModal, qrOpen);
    }

    function closeQR(){
      closeModal(qrModal);
      if(qrInstance){ qrBox.innerHTML=''; qrInstance = null; }
      // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–ª –æ–∫–Ω–æ –∏ –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª –ø–æ —Å—Å—ã–ª–∫–µ ‚Äî –±–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å
      if(!paymentLinkOpened){ showThanks('–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –Ω–∞—à–∏–º —Ç–æ–≤–∞—Ä–∞–º!'); }
    }

    qrClose.addEventListener('click', closeQR);
    qrModal.addEventListener('click', (e)=>{ if(e.target === qrModal) closeQR(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && qrModal.getAttribute('aria-hidden') === 'false') closeQR(); });

    // –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –æ–ø–ª–∞—Ç–µ
    qrOpen.addEventListener('click', ()=>{
      paymentLinkOpened = true;
      // –æ—Ç–º–µ—Ç–∏–º –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ª–æ–≥–∏–∫–∏
      try { localStorage.setItem('paymentIntent','1'); } catch(_){}
    });

    // –ö–Ω–æ–ø–∫–∏ ¬´–ö—É–ø–∏—Ç—å¬ª ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º QR –Ω–∞ https://payform.ru/kf7SPph/
    document.querySelectorAll('.buy').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const title = btn.dataset.title || '–¢–æ–≤–∞—Ä';
        const pay = btn.dataset.paylink || 'https://payform.ru/kf7SPph/';
        openQRModal(title, pay);
      });
    });

    // –ú–æ–¥–∞–ª–∫–∞ "–°–ø–∞—Å–∏–±–æ"
    const thanksTitle = document.getElementById('thanksTitle');
    const thanksText = document.getElementById('thanksText');
    const thanksClose = document.getElementById('thanksClose');
    const thanksOk = document.getElementById('thanksOk');

    function showThanks(text){
      thanksTitle.textContent = '–°–ø–∞—Å–∏–±–æ!';
      thanksText.textContent = text;
      openModal(thanksModal, thanksOk);
    }

    function closeThanks(){ closeModal(thanksModal); }
    thanksClose.addEventListener('click', closeThanks);
    thanksOk.addEventListener('click', closeThanks);
    thanksModal.addEventListener('click', (e)=>{ if(e.target === thanksModal) closeThanks(); });

    // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º —Å –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    // –ï—Å–ª–∏ —É –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å redirect –Ω–∞ —ç—Ç–æ—Ç URL —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º ?payment=success,
    // —Ç–æ –º—ã –ø–æ–∫–∞–∂–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
    (function handleReturn(){
      const params = new URLSearchParams(window.location.search);
      const status = params.get('payment');
      if(status === 'success'){
        showThanks('–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É!');
        try { localStorage.removeItem('paymentIntent'); } catch(_){}
        // –æ—á–∏—â–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä, —á—Ç–æ–±—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª–æ—Å—å
        const url = new URL(window.location.href);
        url.searchParams.delete('payment');
        window.history.replaceState({}, '', url.toString());
      }
    })();
  </script>

  <noscript>
    <div class="container" style="margin-top:16px;color:#fef3c7">–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è QR-–∫–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∫–ª—é—á—ë–Ω–Ω—ã–π JavaScript. –í—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–ö—É–ø–∏—Ç—å¬ª ‚Äî –æ–Ω–∞ –æ—Ç–∫—Ä–æ–µ—Ç —Å—Å—ã–ª–∫—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ.</div>
  </noscript>
</body>
</html>
